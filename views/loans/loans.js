var _0x2bbc=['datepicker','lastloanpay','getEeList','#addloan','\x20thead','eename','#loanTypeView','<option>Loading...</option>','<option\x20value=\x22','unblockUI','replace','remaining','#startDate','payLoan(\x27','disabled','15%','hidden.bs.modal','Payment\x20frequency','hidden','getEeWithLoan','current','currentTarget','loanidmst','hide','val','Due\x20date','off','change','#loan_of_ee','loanpaymentfreq','css','loantypename','ddid','value','length','0.8vw','state','#eename\x20option:selected','dataTables_empty','getLoanOfEE','_filter','actions','loanamount','row','#addNewLoan','0.9vw','data','rows','\x20tbody\x20tr\x20td','<input\x20type=\x22number\x22\x20value=\x22','Start\x20date','<center>No\x20employee\x20with\x20loan</center>','#fullyPaid','</option>','attr','isEmptyObject','dataTable','newduedate','duedate','10%','#saveBtn','Amount\x20paid','DataTable','click','#loantype','#btnMarkPaid','#paymentfreqadd\x20option:selected','\x22\x20class=\x22px-1\x22>\x20<i\x20class=\x22text-red-800\x20fas\x20fa-donate\x22\x20></i>\x20</a>','getPaymentFreq','_wrapper\x20div.row\x20div:first-child','Employee\x20name','Loan\x20type','loan','runningbalance','amountpaid','show','target','Please\x20select\x20a\x20date','Amount\x20due','#amountDue','\x22\x20style=\x22text-align:right;\x20width:80%;\x22/>','dddescription','</span>','#amounttobepaid','<a\x20href=\x22#\x22\x20title=\x22Mark\x20as\x20paid\x22\x20onClick=\x22','map','split','pointer','html','getOfc','#amounttmp','paystate','Running\x20Balance','loanid','loantypelist','userid','Remaining','#markaspaid','createdby','<option\x20value=\x22\x22\x20selected>All\x20offices</option>','Please\x20enter\x20the\x20amount\x20per\x20frequency','#paymentFreqView','fnClearTable','Actions','D\x20dd\x20M\x20yy','#paymentfreqadd','draw','find','payLoan','forEach','totalpaid','removeAttr','eelist','Amount\x20due\x20is\x20higher\x20that\x20the\x20loan','keyup','loanofee','#userid','addNewLoan','amountdue','#loan_ee_list','\x27,\x27','1900:','#loanAmount','modal','#eename','#loanofee','20%','\x20tbody','text-right','#eeid','<span\x20style=\x22display:none;\x22>','getFullYear','desc','Please\x20enter\x20the\x20loan\x20amount','loanexist','hasClass','Please\x20select\x20a\x20name','no-drop','prop','#startDateView','This\x20will\x20close\x20the\x20loan.','done','<option\x20selected></option>','readonly','#amountDueView','salesofficeid','ini','eewithloans'];(function(_0x2ba2ca,_0x2bbcf8){var _0x8d4eef=function(_0x254947){while(--_0x254947){_0x2ba2ca['push'](_0x2ba2ca['shift']());}};_0x8d4eef(++_0x2bbcf8);}(_0x2bbc,0x11b));var _0x8d4e=function(_0x2ba2ca,_0x2bbcf8){_0x2ba2ca=_0x2ba2ca-0x0;var _0x8d4eef=_0x2bbc[_0x2ba2ca];return _0x8d4eef;};$(function(){$(_0x8d4e('0x39'))['on'](_0x8d4e('0x4c'),function(_0xdf3f33){ccyHandler(_0x8d4e('0x87'));ccyHandler('#amountDue');loadEeList();loadLoanTypeList();loadLoanPaymentFreq();loadDate();$(_0x8d4e('0x10'))[_0x8d4e('0x78')](_0x8d4e('0x87'))['val']('');ccyHandler('#loanAmount');loadSaveAction_add();$(_0x8d4e('0x10'))[_0x8d4e('0x88')]('show');});$(_0x8d4e('0x8a'))['on'](_0x8d4e('0x1d'),function(){loadLoanDataTable();});blockUI(()=>{var _0x54f930=_0x8d4e('0x84');initializeLoanDataTable(_0x54f930);loadLoanDataTable();var _0x53e2df=_0x8d4e('0x29');initializeEELoanDataTable(_0x53e2df);loadOfcList();$[_0x8d4e('0x16')]();});});function loadOfcList(){qryData(_0x8d4e('0x55'),_0x8d4e('0x66'),{},_0x372ab4=>{var _0x39e54d=_0x372ab4['ofclist'];var _0x3369d1=_0x8d4e('0x70');_0x39e54d[_0x8d4e('0x7a')](_0x303501=>{_0x3369d1+=_0x8d4e('0x15')+_0x303501[_0x8d4e('0xa')]+'\x22>'+_0x303501['description']+'</option>';});$('#officeList')[_0x8d4e('0x65')](_0x3369d1)[_0x8d4e('0x27')](_0x8d4e('0x28'))['on']('change',function(){var _0x3c7391=$(this)[_0x8d4e('0x25')]();blockUI(()=>{loadLoanDataTable({'ofc':_0x3c7391});$['unblockUI']();});});});}function loadEeList(){var _0x532b12='#addloan';$(_0x532b12)[_0x8d4e('0x78')](_0x8d4e('0x89'))[_0x8d4e('0x65')]('<option>Loading...</option>');qryData('loan',_0x8d4e('0xf'),{'ofcid':''},_0x5dbeae=>{var _0x3b6241=_0x5dbeae[_0x8d4e('0x7d')];var _0xd64799=_0x8d4e('0x7');_0xd64799+=_0x3b6241[_0x8d4e('0x62')](_0x236de9=>'<option\x20value=\x22'+_0x236de9[_0x8d4e('0x6c')]+'\x22>'+_0x236de9[_0x8d4e('0x12')]+'</option>');$(_0x532b12)[_0x8d4e('0x78')](_0x8d4e('0x89'))[_0x8d4e('0x65')](_0xd64799);_0xd64799=null;});}function loadLoanTypeList(){var _0x50d127='#addloan';$(_0x50d127)['find'](_0x8d4e('0x4d'))[_0x8d4e('0x65')](_0x8d4e('0x14'));qryData(_0x8d4e('0x55'),'getLoanTypeList',{},_0x579bad=>{var _0x4bf33c=_0x579bad[_0x8d4e('0x6b')]['rows'];var _0x312e12=_0x8d4e('0x7');_0x312e12+=_0x4bf33c[_0x8d4e('0x62')](_0x404adc=>_0x8d4e('0x15')+_0x404adc[_0x8d4e('0x2d')]+'\x22>'+_0x404adc[_0x8d4e('0x5e')]+_0x8d4e('0x42'));$(_0x50d127)[_0x8d4e('0x78')](_0x8d4e('0x4d'))['html'](_0x312e12);_0x312e12=null;});}function loadLoanPaymentFreq(){var _0x4bf3be=_0x8d4e('0x10');$(_0x4bf3be)['find'](_0x8d4e('0x76'))[_0x8d4e('0x65')]('<option>Loading...</option>');qryData('loan',_0x8d4e('0x51'),{},_0x1c5b59=>{var _0x55b776=_0x1c5b59[_0x8d4e('0x2a')]['rows'];var _0x546287=_0x8d4e('0x7');_0x546287+=_0x55b776[_0x8d4e('0x62')](_0x3c7389=>_0x8d4e('0x15')+_0x3c7389[_0x8d4e('0xb')]+'\x22>'+_0x3c7389[_0x8d4e('0x5e')]+_0x8d4e('0x42'));$(_0x4bf3be)[_0x8d4e('0x78')](_0x8d4e('0x76'))['html'](_0x546287);_0x546287=null;});}function loadDate(){var _0x39652c=_0x8d4e('0x10');serverDateNow(_0x55ca5b=>{$(_0x39652c)[_0x8d4e('0x78')](_0x8d4e('0x19'))[_0x8d4e('0xd')]({'dateFormat':_0x8d4e('0x75'),'changeMonth':!![],'changeYear':!![],'yearRange':_0x8d4e('0x86')+_0x55ca5b[_0x8d4e('0x90')]()})['on']('click',function(){$(this)[_0x8d4e('0x3')](_0x8d4e('0x8'),!![]);});});}function loadSaveAction_add(){var _0x3dc58a=_0x8d4e('0x10');$(_0x3dc58a)[_0x8d4e('0x78')](_0x8d4e('0x49'))[_0x8d4e('0x27')](_0x8d4e('0x4c'))['on']('click',function(_0x164317){var _0x442b1e=parseFloat($(_0x3dc58a)[_0x8d4e('0x78')](_0x8d4e('0x87'))[_0x8d4e('0x25')]()[_0x8d4e('0x17')](',',''));var _0x141748=parseFloat($(_0x3dc58a)[_0x8d4e('0x78')]('#amountDue')[_0x8d4e('0x25')]()[_0x8d4e('0x17')](',',''));if($(_0x3dc58a)[_0x8d4e('0x78')](_0x8d4e('0x32'))[_0x8d4e('0x25')]()===''){alertDialog(_0x8d4e('0x1'));return;}if($(_0x3dc58a)[_0x8d4e('0x78')]('#loantype\x20option:selected')[_0x8d4e('0x25')]()===''){alertDialog('Please\x20select\x20a\x20loan\x20type');return;}if($(_0x3dc58a)[_0x8d4e('0x78')](_0x8d4e('0x4f'))[_0x8d4e('0x25')]()===''){alertDialog('Please\x20select\x20a\x20payment\x20frequency');return;}if(_0x442b1e==0x0){alertDialog(_0x8d4e('0x92'));return;}if(_0x141748==0x0){alertDialog(_0x8d4e('0x71'));return;}if(_0x141748>_0x442b1e){alertDialog(_0x8d4e('0x7e'));return;}if($(_0x3dc58a)[_0x8d4e('0x78')]('#startDate')[_0x8d4e('0x25')]()===''){alertDialog(_0x8d4e('0x5a'));return;}addNewLoan();});}function addNewLoan(){var _0x3f5b33=_0x8d4e('0x10');var _0x32f664={'userid':$(_0x3f5b33)[_0x8d4e('0x78')](_0x8d4e('0x32'))['val'](),'loantype':$(_0x3f5b33)[_0x8d4e('0x78')]('#loantype\x20option:selected')[_0x8d4e('0x25')](),'paymentfreq':$(_0x3f5b33)['find'](_0x8d4e('0x4f'))[_0x8d4e('0x25')](),'loanamount':$(_0x3f5b33)['find'](_0x8d4e('0x87'))[_0x8d4e('0x25')](),'amountdue':$(_0x3f5b33)[_0x8d4e('0x78')](_0x8d4e('0x5c'))[_0x8d4e('0x25')](),'startdate':$(_0x3f5b33)[_0x8d4e('0x78')](_0x8d4e('0x19'))['val'](),'createdby':$(_0x8d4e('0x81'))['val']()};blockUI(()=>{qryData('loan',_0x8d4e('0x82'),_0x32f664,_0x1bcd7e=>{if(_0x1bcd7e[_0x8d4e('0x93')]){alertDialog('The\x20employee\x20already\x20have\x20a\x20loan\x20with\x20the\x20same\x20loan\x20type.');}else{loadLoanDataTable();$(_0x3f5b33)[_0x8d4e('0x88')](_0x8d4e('0x24'));}$[_0x8d4e('0x16')]();},!![]);});}function initializeLoanDataTable(_0x188c8c){$(loan_ee_list)[_0x8d4e('0x4b')]({'data':[],'language':{'emptyTable':_0x8d4e('0x40')},'info':![],'responsive':!![],'lengthMenu':[[0x19],[0x19]],'order':[[0x8,_0x8d4e('0x91')]],'columns':[{'data':_0x8d4e('0x6c'),'title':'','visible':![]},{'data':_0x8d4e('0x23'),'title':'','visible':![]},{'data':_0x8d4e('0x12'),'title':_0x8d4e('0x53'),'width':_0x8d4e('0x8b')},{'data':_0x8d4e('0x2c'),'title':_0x8d4e('0x54'),'width':_0x8d4e('0x48')},{'data':_0x8d4e('0x37'),'title':'Loan\x20amount','render':function _0x111532(_0x59a25d){return ccyFormat(_0x59a25d,0x2);},'width':'10%','className':_0x8d4e('0x8d')},{'data':_0x8d4e('0x7b'),'title':'Paid','render':function _0x10b109(_0xef0ca2){return ccyFormat(_0xef0ca2,0x2);},'width':_0x8d4e('0x48'),'className':_0x8d4e('0x8d')},{'data':_0x8d4e('0x18'),'title':_0x8d4e('0x6d'),'render':function _0x360d6c(_0x12a4dd){return ccyFormat(_0x12a4dd,0x2);},'width':_0x8d4e('0x48'),'className':_0x8d4e('0x8d')},{'data':'paymentfrequencydesc','title':_0x8d4e('0x1e'),'width':_0x8d4e('0x48')},{'data':'newstartdate','title':_0x8d4e('0x3f'),'width':_0x8d4e('0x1c')}],'columnDefs':[{'targets':[0x6,0x7],'render':function _0x3b269f(_0x462077){return _0x8d4e('0x8f')+toTimestamp(_0x462077)+_0x8d4e('0x5f')+_0x462077;}}],'rowId':'id'});$(_0x188c8c+_0x8d4e('0x52'))[0x0]['remove']();$(_0x188c8c+_0x8d4e('0x35'))[_0x8d4e('0x65')]('');$('#loan_ee_list_search')['on']('keyup',function(){$(_0x188c8c)['DataTable']()['search']($(this)[_0x8d4e('0x25')]())['draw']();});$(_0x188c8c+_0x8d4e('0x11'))[_0x8d4e('0x2b')]({'font-size':_0x8d4e('0x3a')});$(_0x188c8c+_0x8d4e('0x8c'))['css']({'font-size':_0x8d4e('0x30')});$(loan_ee_list)[_0x8d4e('0x45')]()[_0x8d4e('0x73')]();}function loadLoanDataTable(){var _0x429fed=arguments[_0x8d4e('0x2f')]>0x0&&arguments[0x0]!==undefined?arguments[0x0]:{};if($[_0x8d4e('0x44')](_0x429fed)){_0x429fed={'ofc':''};}qryData(_0x8d4e('0x55'),_0x8d4e('0x20'),_0x429fed,_0x370fcf=>{updateLoanEeList(_0x370fcf[_0x8d4e('0xc')][_0x8d4e('0x3c')]);},!![]);}function updateLoanEeList(_0x2c3220){var _0x571adf='#'+$['fn']['dataTable']['tables']()[0x0]['id'];$(_0x571adf)[_0x8d4e('0x45')]()[_0x8d4e('0x73')]();if(_0x2c3220[_0x8d4e('0x2f')]>0x0){$(_0x571adf)[_0x8d4e('0x45')]()['fnAddData'](_0x2c3220);$(_0x571adf+_0x8d4e('0x8c'))['off']('click')['on'](_0x8d4e('0x4c'),'tr',function(_0x2ccebb){var _0x8e6f24=$(_0x571adf)[_0x8d4e('0x4b')]();if($(_0x2ccebb[_0x8d4e('0x22')]['childNodes'][0x0])[_0x8d4e('0x0')](_0x8d4e('0x33')))return![];var _0x9da724=_0x8e6f24[_0x8d4e('0x38')](this)[_0x8d4e('0x3b')]();loanOfEeForm(_0x9da724);});}if($(_0x571adf+_0x8d4e('0x3d'))[_0x8d4e('0x0')](_0x8d4e('0x33'))){$(_0x571adf+_0x8d4e('0x8c'))[_0x8d4e('0x2b')]({'cursor':_0x8d4e('0x2')});}else{$(_0x571adf+'\x20tbody')[_0x8d4e('0x2b')]({'cursor':_0x8d4e('0x64')});}}function loanOfEeForm(_0xab615c){var _0x521947='#loanofee';$(_0x521947)[_0x8d4e('0x78')]('#txtEeNameView')['html'](_0xab615c['eename']);$(_0x521947)[_0x8d4e('0x78')](_0x8d4e('0x13'))[_0x8d4e('0x65')](_0xab615c['loantypename']);$(_0x521947)['find'](_0x8d4e('0x72'))[_0x8d4e('0x65')](_0xab615c['paymentfrequencydesc']);$(_0x521947)['find']('#loanAmountView')[_0x8d4e('0x65')](ccyFormat(_0xab615c[_0x8d4e('0x37')]));$(_0x521947)[_0x8d4e('0x78')](_0x8d4e('0x9'))['html'](ccyFormat(_0xab615c[_0x8d4e('0x83')]));$(_0x521947)[_0x8d4e('0x78')](_0x8d4e('0x4'))[_0x8d4e('0x65')](_0xab615c['newstartdate']);$(_0x521947)[_0x8d4e('0x78')](_0x8d4e('0x8e'))[_0x8d4e('0x25')](_0xab615c[_0x8d4e('0x6c')]);loadLoanEEDataTable(_0xab615c[_0x8d4e('0x23')]);$(_0x521947)[_0x8d4e('0x88')](_0x8d4e('0x58'));}function initializeEELoanDataTable(_0x2ebf5d){$(_0x2ebf5d)[_0x8d4e('0x4b')]({'data':[],'language':{'emptyTable':'<center>No\x20list\x20found</center>'},'info':![],'paging':![],'searching':![],'responsive':!![],'ordering':![],'columns':[{'data':_0x8d4e('0x6a'),'name':_0x8d4e('0x6a'),'title':'','visible':![]},{'data':'loanidmst','name':_0x8d4e('0x23'),'title':'','visible':![]},{'data':_0x8d4e('0x46'),'name':_0x8d4e('0x46'),'title':_0x8d4e('0x26'),'width':'10%'},{'data':_0x8d4e('0x56'),'name':_0x8d4e('0x56'),'title':_0x8d4e('0x69'),'width':_0x8d4e('0x8b'),'render':function _0x23c236(_0x224fac){return ccyFormat(_0x224fac,0x2);},'className':_0x8d4e('0x8d')},{'data':'amountdue','name':_0x8d4e('0x83'),'title':_0x8d4e('0x5b'),'width':_0x8d4e('0x8b'),'render':function _0x45da5a(_0x5a8e79){return ccyFormat(_0x5a8e79,0x2);},'className':_0x8d4e('0x8d')},{'data':_0x8d4e('0x7b'),'name':_0x8d4e('0x57'),'title':_0x8d4e('0x4a'),'width':_0x8d4e('0x8b'),'render':function _0x297599(_0x3cca60){if(!isNaN(_0x3cca60)){return ccyFormat(_0x3cca60,0x2);}else{var _0x576466=_0x3cca60[_0x8d4e('0x63')](':');return _0x8d4e('0x3e')+_0x576466[0x1]['trim']()+_0x8d4e('0x5d');}},'className':_0x8d4e('0x8d')},{'data':'actions','name':_0x8d4e('0x36'),'title':_0x8d4e('0x74'),'width':_0x8d4e('0x8b'),'render':function _0x2d159c(_0x131c37){var _0x4615ff='';switch(_0x131c37['state']){case'current':case'continue':var _0x11f0ac=_0x8d4e('0x1a')+_0x131c37[_0x8d4e('0x6a')]+_0x8d4e('0x85')+_0x131c37['id']+'\x27,\x27'+_0x131c37[_0x8d4e('0x31')]+'\x27)';_0x4615ff=_0x8d4e('0x61')+_0x11f0ac+_0x8d4e('0x50');break;case _0x8d4e('0x6'):break;default:break;}return _0x4615ff;},'className':'text-left'}],'rowId':'id'});$(_0x2ebf5d+'\x20thead')[_0x8d4e('0x2b')]({'font-size':_0x8d4e('0x3a')});$(_0x2ebf5d+'\x20tbody')[_0x8d4e('0x2b')]({'font-size':_0x8d4e('0x30')});$(_0x2ebf5d)[_0x8d4e('0x45')]()[_0x8d4e('0x73')]();}function editLoan(_0x17f0c3,_0x4bce99){return;var _0x4a7dec=$(loan_of_ee)['DataTable']();var _0x1b5bf4=_0x4a7dec['row']('#'+_0x4bce99)[_0x8d4e('0x3b')]();_0x1b5bf4[_0x8d4e('0x83')]='input:\x20'+_0x1b5bf4[_0x8d4e('0x83')];_0x4a7dec[_0x8d4e('0x38')]('#'+_0x4bce99)[_0x8d4e('0x3b')](_0x1b5bf4)[_0x8d4e('0x77')]();}function payLoan(){var _0x2b2941=arguments['length']>0x0&&arguments[0x0]!==undefined?arguments[0x0]:'';var _0x5a22f5=arguments[_0x8d4e('0x2f')]>0x1&&arguments[0x1]!==undefined?arguments[0x1]:'';var _0x6b4ef0=arguments['length']>0x2&&arguments[0x2]!==undefined?arguments[0x2]:'';var _0x1efa17=_0x8d4e('0x6e');var _0x29482e=$(loan_of_ee)[_0x8d4e('0x4b')]();var _0x41098e=_0x29482e[_0x8d4e('0x38')]('#'+_0x5a22f5)[_0x8d4e('0x3b')]();var _0x5c57ac=_0x41098e[_0x8d4e('0x23')];var _0x557d81=_0x6b4ef0==_0x8d4e('0x21')?ccyFormat(_0x41098e['amountdue']):ccyFormat(_0x41098e[_0x8d4e('0x83')]-_0x41098e[_0x8d4e('0x7b')]);var _0x494abc=_0x41098e['runningbalance'];var _0x21e7fa=_0x41098e[_0x8d4e('0x46')];var _0x5ca5ec=![];$(_0x1efa17)['find'](_0x8d4e('0x67'))[_0x8d4e('0x25')](_0x557d81);$(_0x1efa17)[_0x8d4e('0x78')](_0x8d4e('0x4e'))[_0x8d4e('0x7c')](_0x8d4e('0x1b'));$(_0x1efa17)['find']('#amounttobepaid')[_0x8d4e('0x25')](_0x557d81)[_0x8d4e('0x27')]('keyup')['on'](_0x8d4e('0x7f'),function(_0x2a9063){if(_0x2a9063[_0x8d4e('0x59')][_0x8d4e('0x2e')]!=''){var _0x641135=_0x2a9063[_0x8d4e('0x59')][_0x8d4e('0x2e')][_0x8d4e('0x17')](',','');if(_0x641135==0x0||_0x641135>_0x494abc){$(_0x1efa17)['find'](_0x8d4e('0x4e'))[_0x8d4e('0x43')](_0x8d4e('0x1b'),!![]);_0x5ca5ec=!![];}else{$(_0x1efa17)[_0x8d4e('0x78')](_0x8d4e('0x4e'))[_0x8d4e('0x7c')](_0x8d4e('0x1b'));_0x5ca5ec=![];}}else{$(_0x1efa17)[_0x8d4e('0x78')]('#btnMarkPaid')['removeAttr']('disabled');_0x5ca5ec=![];}});$(_0x1efa17)[_0x8d4e('0x88')](_0x8d4e('0x58'));ccyHandler('#amounttobepaid');$(_0x1efa17)[_0x8d4e('0x78')]('#btnMarkPaid')[_0x8d4e('0x27')](_0x8d4e('0x4c'))['on'](_0x8d4e('0x4c'),function(_0x1ea414){if(!_0x5ca5ec){var _0x2b45ba={'userid':$(_0x8d4e('0x8e'))[_0x8d4e('0x25')](),'loanid':_0x2b2941,'loanidmst':_0x5c57ac,'runningbalance':_0x494abc,'amountdue':$(_0x1efa17)[_0x8d4e('0x78')](_0x8d4e('0x67'))[_0x8d4e('0x25')](),'amountpaid':$(_0x1efa17)[_0x8d4e('0x78')]('#amounttobepaid')['val'](),'duedate':_0x21e7fa,'createdby':$(_0x8d4e('0x81'))[_0x8d4e('0x25')](),'paystate':_0x6b4ef0};markPaid(_0x2b45ba);$(_0x1efa17)[_0x8d4e('0x88')]('hide');}else{$(_0x1efa17)[_0x8d4e('0x78')](_0x8d4e('0x4e'))['attr'](_0x8d4e('0x1b'),!![]);}});}function continueLoan(){var _0x135b33=arguments['length']>0x0&&arguments[0x0]!==undefined?arguments[0x0]:'';var _0x337939=arguments[_0x8d4e('0x2f')]>0x1&&arguments[0x1]!==undefined?arguments[0x1]:'';var _0x3c199f=_0x8d4e('0x6e');var _0x5bb253=$(loan_of_ee)['DataTable']();var _0x369d95=_0x5bb253[_0x8d4e('0x38')]('#'+_0x337939)[_0x8d4e('0x3b')]();var _0x15c486=_0x369d95[_0x8d4e('0x23')];var _0x4e7c81=ccyFormat(_0x369d95[_0x8d4e('0x83')]-_0x369d95[_0x8d4e('0x57')]);var _0x463534=_0x369d95[_0x8d4e('0x56')];var _0x27a552=_0x369d95[_0x8d4e('0x46')];$(_0x3c199f)[_0x8d4e('0x78')](_0x8d4e('0x67'))[_0x8d4e('0x25')](_0x4e7c81);$(_0x3c199f)[_0x8d4e('0x78')](_0x8d4e('0x4e'))[_0x8d4e('0x7c')](_0x8d4e('0x1b'));$(_0x3c199f)[_0x8d4e('0x78')](_0x8d4e('0x60'))['val'](_0x4e7c81)['off'](_0x8d4e('0x7f'))['on'](_0x8d4e('0x7f'),function(_0x82c3b8){if(_0x82c3b8[_0x8d4e('0x59')][_0x8d4e('0x2e')]==''||_0x82c3b8['target'][_0x8d4e('0x2e')]==0x0){$(_0x3c199f)[_0x8d4e('0x78')]('#btnMarkPaid')[_0x8d4e('0x43')](_0x8d4e('0x1b'),!![]);}else{$(_0x3c199f)[_0x8d4e('0x78')]('#btnMarkPaid')['removeAttr'](_0x8d4e('0x1b'));}});ccyHandler(_0x8d4e('0x60'));$(_0x3c199f)[_0x8d4e('0x88')](_0x8d4e('0x58'));$(_0x3c199f)[_0x8d4e('0x78')](_0x8d4e('0x4e'))[_0x8d4e('0x27')](_0x8d4e('0x4c'))['on']('click',function(_0x288fec){var _0x45d7b7={'userid':$('#eeid')[_0x8d4e('0x25')](),'loanid':_0x135b33,'loanidmst':_0x15c486,'runningbalance':_0x463534,'amountdue':$(_0x3c199f)[_0x8d4e('0x78')]('#amounttmp')[_0x8d4e('0x25')](),'amountpaid':$(_0x3c199f)[_0x8d4e('0x78')]('#amounttobepaid')[_0x8d4e('0x25')](),'duedate':_0x27a552,'createdby':$(_0x8d4e('0x81'))['val']()};markPaid(_0x45d7b7);$(_0x3c199f)[_0x8d4e('0x88')](_0x8d4e('0x24'));});}function markPaid(_0x2630af){console['log'](_0x2630af);var _0x1ee217={'userid':_0x2630af[_0x8d4e('0x6c')],'loanid':_0x2630af[_0x8d4e('0x6a')],'loanidmst':_0x2630af['loanidmst'],'runningbalance':_0x2630af['runningbalance'],'amountdue':_0x2630af[_0x8d4e('0x83')],'amountpaid':_0x2630af[_0x8d4e('0x57')],'duedate':_0x2630af[_0x8d4e('0x47')],'createdby':_0x2630af[_0x8d4e('0x6f')],'paystate':_0x2630af[_0x8d4e('0x68')]};qryData(_0x8d4e('0x55'),_0x8d4e('0x79'),_0x1ee217,_0x5e65cd=>{loadLoanEEDataTable(_0x1ee217['loanidmst']);},!![]);}function loadLoanEEDataTable(_0x1b3f35){apiParam={'loanidmst':_0x1b3f35};qryData(_0x8d4e('0x55'),_0x8d4e('0x34'),apiParam,_0x19b3d4=>{updateLoanEeData(_0x19b3d4[_0x8d4e('0x80')]['rows']);if(parseFloat(_0x19b3d4['lastloanpay'][_0x8d4e('0x56')])==parseFloat(_0x19b3d4[_0x8d4e('0xe')][_0x8d4e('0x7b')])&&_0x19b3d4['loanstatus']==0x0){_0x250c30(!![]);$(_0x8d4e('0x8a'))[_0x8d4e('0x78')](_0x8d4e('0x41'))['off'](_0x8d4e('0x4c'))['on'](_0x8d4e('0x4c'),function(_0x35db0f){confirmDialog(_0x8d4e('0x5'),()=>{_0x250c30(![]);markAsFullyPaid(_0x1b3f35);});});}else{_0x250c30(![]);$('#loanofee')['find'](_0x8d4e('0x41'))[_0x8d4e('0x27')](_0x8d4e('0x4c'))['on'](_0x8d4e('0x4c'),function(){_0x250c30(![]);});}function _0x250c30(_0x26e622){if(_0x26e622){$('#loanofee')[_0x8d4e('0x78')]('#fullyPaid')['removeAttr'](_0x8d4e('0x1b'));$(_0x8d4e('0x8a'))['find'](_0x8d4e('0x41'))[_0x8d4e('0x7c')](_0x8d4e('0x1f'));}else{$('#loanofee')[_0x8d4e('0x78')]('#fullyPaid')['attr'](_0x8d4e('0x1b'),'disabled');$(_0x8d4e('0x8a'))[_0x8d4e('0x78')](_0x8d4e('0x41'))[_0x8d4e('0x43')](_0x8d4e('0x1f'),'disabled');}}},!![]);}function markAsFullyPaid(_0x50f6e5){var _0x19daf3=$(_0x8d4e('0x81'))['val']();var _0x58772f={'loanidmst':_0x50f6e5,'userid':_0x19daf3};qryData(_0x8d4e('0x55'),'closeLoan',_0x58772f,_0x247610=>{},!![]);}function updateLoanEeData(){var _0x2e435d=arguments[_0x8d4e('0x2f')]>0x0&&arguments[0x0]!==undefined?arguments[0x0]:{};var _0x3be539=_0x8d4e('0x29');$(_0x3be539)['dataTable']()['fnClearTable']();if(_0x2e435d[_0x8d4e('0x2f')]>0x0){$(_0x3be539)[_0x8d4e('0x45')]()['fnAddData'](_0x2e435d);}}